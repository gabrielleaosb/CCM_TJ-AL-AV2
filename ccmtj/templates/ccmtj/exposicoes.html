{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exposições</title>
  <link href="{% static 'ccmtj/css/output.css' %}" rel="stylesheet" />
  <link href="{% static 'ccmtj/css/styles.css' %}" rel="stylesheet" />
</head>
<body class="min-h-screen flex flex-col items-center justify-start bg-[#071F49]">

  <div class="w-full bg-[#051935] text-white rounded-b-[60px] flex flex-col items-center justify-start relative pt-20 pb-8">
    <img src="{% static 'ccmtj/images/logo-ccmtj.png' %}" alt="Logo CCMTJ" class="w-[130px] h-[130px]" />
    <div class="w-full px-[45px] pt-6 text-center">
      <h1 class="text-[20px] font-FuturaBold mb-4">Exposições</h1>
      <div class="text-white text-[17px] font-FuturaBook">
        Aqui estão nossas exposições com imagens e vídeos.
      </div>
    </div>
  </div>

  <nav class="fixed top-0 left-0 bg-[#B05198] flex flex-row items-center h-[64px] w-[238px] rounded-br-full justify-center gap-4">
    <a href="{% url 'home' %}" class="flex items-center justify-center w-10 h-10 bg-[#071F49] rounded-full ml-[-6px]">
      <img src="{% static 'ccmtj/icons/seta-voltar-pagina.svg' %}" alt="Voltar" class="w-6 h-12 object-contain" />
    </a>
    <a href="{% url 'qr_scan' %}" class="flex items-center justify-center w-14 h-14">
      <img src="{% static 'ccmtj/icons/escanear.svg' %}" alt="Escanear QRCode" class="w-14 h-14 object-contain" />
    </a>
    <a href="{% url 'home' %}" class="flex items-center justify-center w-14 h-14 ml-[-6px]">
      <img src="{% static 'ccmtj/icons/home.svg' %}" alt="Página Inicial" class="w-12 h-12 object-contain" />
    </a>
  </nav>

  <div class="flex flex-col w-full items-center justify-center mt-[69px]">
    <h2 class="text-white font-FuturaMedium text-[18px] mb-4">Fotos das Exposições</h2>
    <div class="w-full max-w-[90%] overflow-hidden">
      <div class="flex gap-4 overflow-x-auto scroll-smooth snap-x snap-mandatory">
        {% for exposicao in exposicoes %}
          {% if exposicao.imagem %}
            <div class="w-[250px] h-[140px] flex-shrink-0 snap-start bg-white rounded-lg p-2 shadow-md flex items-center justify-center">
              <div class="w-full h-full flex items-center justify-center overflow-hidden">
                <img src="{{ exposicao.imagem.url }}" alt="{{ exposicao.titulo }}" class="max-h-full max-w-full object-contain" />
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="flex flex-col w-full items-center justify-center mt-8 mb-12">
    <h2 class="text-white font-FuturaMedium text-[18px] mb-4">Vídeos das Exposições</h2>
    <div class="w-full max-w-[90%] mx-auto overflow-hidden">
      <div class="flex snap-x snap-mandatory overflow-x-auto scroll-smooth w-full">
        {% for exposicao in exposicoes %}
          {% if exposicao.video_url %}
            {% with exposicao.video_url|cut:'https://www.youtube.com/watch?v=' as video_id %}
              <div class="video-item snap-center aspect-video rounded-lg bg-black relative cursor-pointer" onclick="playVideo(this)" data-video-id="{{ video_id }}">
                <img src="https://img.youtube.com/vi/{{ video_id }}/hqdefault.jpg" alt="Thumbnail" class="w-full h-full object-cover rounded-lg" />
                <div class="play-icon z-10 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                  <img src="{% static 'ccmtj/icons/play-button.svg' %}" alt="Play" class="w-[30px] h-[30px] object-contain" />
                </div>
                <div class="video-player-container hidden">
                  <iframe width="100%" height="100%" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen class="rounded-lg"></iframe>
                </div>
              </div>
            {% endwith %}
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>

  <script src="{% static 'ccmtj/js/slider-fotos.js' %}"></script>
  <script src="{% static 'ccmtj/js/slider-videos.js' %}"></script>
  <script src="{% static 'ccmtj/js/play-video.js' %}"></script>
</body>
</html>
